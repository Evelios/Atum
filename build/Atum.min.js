!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Atum=e()}}(function(){return function e(t,r,n){function o(u,a){if(!r[u]){if(!t[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[u]={exports:{}};t[u][0].call(l.exports,function(e){var r=t[u][1][e];return o(r||e)},l,l.exports,e,t,r,n)}return r[u].exports}for(var i="function"==typeof require&&require,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(e,t,r){function n(){this.vertices=null,this.edges=null,this.cells=null,this.toRecycle=null,this.beachsectionJunkyard=[],this.circleEventJunkyard=[],this.vertexJunkyard=[],this.edgeJunkyard=[],this.cellJunkyard=[]}n.prototype.reset=function(){if(this.beachline||(this.beachline=new this.RBTree),this.beachline.root)for(var e=this.beachline.getFirst(this.beachline.root);e;)this.beachsectionJunkyard.push(e),e=e.rbNext;this.beachline.root=null,this.circleEvents||(this.circleEvents=new this.RBTree),this.circleEvents.root=this.firstCircleEvent=null,this.vertices=[],this.edges=[],this.cells=[]},n.prototype.sqrt=Math.sqrt,n.prototype.abs=Math.abs,n.prototype.ε=n.ε=1e-9,n.prototype.invε=n.invε=1/n.ε,n.prototype.equalWithEpsilon=function(e,t){return this.abs(e-t)<1e-9},n.prototype.greaterThanWithEpsilon=function(e,t){return e-t>1e-9},n.prototype.greaterThanOrEqualWithEpsilon=function(e,t){return t-e<1e-9},n.prototype.lessThanWithEpsilon=function(e,t){return t-e>1e-9},n.prototype.lessThanOrEqualWithEpsilon=function(e,t){return e-t<1e-9},n.prototype.RBTree=function(){this.root=null},n.prototype.RBTree.prototype.rbInsertSuccessor=function(e,t){var r;if(e){if(t.rbPrevious=e,t.rbNext=e.rbNext,e.rbNext&&(e.rbNext.rbPrevious=t),e.rbNext=t,e.rbRight){for(e=e.rbRight;e.rbLeft;)e=e.rbLeft;e.rbLeft=t}else e.rbRight=t;r=e}else this.root?(e=this.getFirst(this.root),t.rbPrevious=null,t.rbNext=e,e.rbPrevious=t,e.rbLeft=t,r=e):(t.rbPrevious=t.rbNext=null,this.root=t,r=null);t.rbLeft=t.rbRight=null,t.rbParent=r,t.rbRed=!0;var n,o;for(e=t;r&&r.rbRed;)r===(n=r.rbParent).rbLeft?(o=n.rbRight)&&o.rbRed?(r.rbRed=o.rbRed=!1,n.rbRed=!0,e=n):(e===r.rbRight&&(this.rbRotateLeft(r),r=(e=r).rbParent),r.rbRed=!1,n.rbRed=!0,this.rbRotateRight(n)):(o=n.rbLeft)&&o.rbRed?(r.rbRed=o.rbRed=!1,n.rbRed=!0,e=n):(e===r.rbLeft&&(this.rbRotateRight(r),r=(e=r).rbParent),r.rbRed=!1,n.rbRed=!0,this.rbRotateLeft(n)),r=e.rbParent;this.root.rbRed=!1},n.prototype.RBTree.prototype.rbRemoveNode=function(e){e.rbNext&&(e.rbNext.rbPrevious=e.rbPrevious),e.rbPrevious&&(e.rbPrevious.rbNext=e.rbNext),e.rbNext=e.rbPrevious=null;var t,r=e.rbParent,n=e.rbLeft,o=e.rbRight;t=n?o?this.getFirst(o):n:o,r?r.rbLeft===e?r.rbLeft=t:r.rbRight=t:this.root=t;var i;if(n&&o?(i=t.rbRed,t.rbRed=e.rbRed,t.rbLeft=n,n.rbParent=t,t!==o?(r=t.rbParent,t.rbParent=e.rbParent,e=t.rbRight,r.rbLeft=e,t.rbRight=o,o.rbParent=t):(t.rbParent=r,r=t,e=t.rbRight)):(i=e.rbRed,e=t),e&&(e.rbParent=r),!i)if(e&&e.rbRed)e.rbRed=!1;else{var u;do{if(e===this.root)break;if(e===r.rbLeft){if((u=r.rbRight).rbRed&&(u.rbRed=!1,r.rbRed=!0,this.rbRotateLeft(r),u=r.rbRight),u.rbLeft&&u.rbLeft.rbRed||u.rbRight&&u.rbRight.rbRed){u.rbRight&&u.rbRight.rbRed||(u.rbLeft.rbRed=!1,u.rbRed=!0,this.rbRotateRight(u),u=r.rbRight),u.rbRed=r.rbRed,r.rbRed=u.rbRight.rbRed=!1,this.rbRotateLeft(r),e=this.root;break}}else if((u=r.rbLeft).rbRed&&(u.rbRed=!1,r.rbRed=!0,this.rbRotateRight(r),u=r.rbLeft),u.rbLeft&&u.rbLeft.rbRed||u.rbRight&&u.rbRight.rbRed){u.rbLeft&&u.rbLeft.rbRed||(u.rbRight.rbRed=!1,u.rbRed=!0,this.rbRotateLeft(u),u=r.rbLeft),u.rbRed=r.rbRed,r.rbRed=u.rbLeft.rbRed=!1,this.rbRotateRight(r),e=this.root;break}u.rbRed=!0,e=r,r=r.rbParent}while(!e.rbRed);e&&(e.rbRed=!1)}},n.prototype.RBTree.prototype.rbRotateLeft=function(e){var t=e,r=e.rbRight,n=t.rbParent;n?n.rbLeft===t?n.rbLeft=r:n.rbRight=r:this.root=r,r.rbParent=n,t.rbParent=r,t.rbRight=r.rbLeft,t.rbRight&&(t.rbRight.rbParent=t),r.rbLeft=t},n.prototype.RBTree.prototype.rbRotateRight=function(e){var t=e,r=e.rbLeft,n=t.rbParent;n?n.rbLeft===t?n.rbLeft=r:n.rbRight=r:this.root=r,r.rbParent=n,t.rbParent=r,t.rbLeft=r.rbRight,t.rbLeft&&(t.rbLeft.rbParent=t),r.rbRight=t},n.prototype.RBTree.prototype.getFirst=function(e){for(;e.rbLeft;)e=e.rbLeft;return e},n.prototype.RBTree.prototype.getLast=function(e){for(;e.rbRight;)e=e.rbRight;return e},n.prototype.Diagram=function(e){this.site=e},n.prototype.Cell=function(e){this.site=e,this.halfedges=[],this.closeMe=!1},n.prototype.Cell.prototype.init=function(e){return this.site=e,this.halfedges=[],this.closeMe=!1,this},n.prototype.createCell=function(e){var t=this.cellJunkyard.pop();return t?t.init(e):new this.Cell(e)},n.prototype.Cell.prototype.prepareHalfedges=function(){for(var e,t=this.halfedges,r=t.length;r--;)(e=t[r].edge).vb&&e.va||t.splice(r,1);return t.sort(function(e,t){return t.angle-e.angle}),t.length},n.prototype.Cell.prototype.getNeighborIds=function(){for(var e,t=[],r=this.halfedges.length;r--;)null!==(e=this.halfedges[r].edge).lSite&&e.lSite.voronoiId!=this.site.voronoiId?t.push(e.lSite.voronoiId):null!==e.rSite&&e.rSite.voronoiId!=this.site.voronoiId&&t.push(e.rSite.voronoiId);return t},n.prototype.Cell.prototype.getBbox=function(){for(var e,t,r,n=this.halfedges,o=n.length,i=1/0,u=1/0,a=-1/0,s=-1/0;o--;)t=(e=n[o].getStartpoint()).x,r=e.y,t<i&&(i=t),r<u&&(u=r),t>a&&(a=t),r>s&&(s=r);return{x:i,y:u,width:a-i,height:s-u}},n.prototype.Cell.prototype.pointIntersection=function(e,t){for(var r,n,o,i,u=this.halfedges,a=u.length;a--;){if(r=u[a],n=r.getStartpoint(),o=r.getEndpoint(),!(i=(t-n.y)*(o.x-n.x)-(e-n.x)*(o.y-n.y)))return 0;if(i>0)return-1}return 1},n.prototype.Vertex=function(e,t){this.x=e,this.y=t},n.prototype.Edge=function(e,t){this.lSite=e,this.rSite=t,this.va=this.vb=null},n.prototype.Halfedge=function(e,t,r){if(this.site=t,this.edge=e,r)this.angle=Math.atan2(r.y-t.y,r.x-t.x);else{var n=e.va,o=e.vb;this.angle=e.lSite===t?Math.atan2(o.x-n.x,n.y-o.y):Math.atan2(n.x-o.x,o.y-n.y)}},n.prototype.createHalfedge=function(e,t,r){return new this.Halfedge(e,t,r)},n.prototype.Halfedge.prototype.getStartpoint=function(){return this.edge.lSite===this.site?this.edge.va:this.edge.vb},n.prototype.Halfedge.prototype.getEndpoint=function(){return this.edge.lSite===this.site?this.edge.vb:this.edge.va},n.prototype.createVertex=function(e,t){var r=this.vertexJunkyard.pop();return r?(r.x=e,r.y=t):r=new this.Vertex(e,t),this.vertices.push(r),r},n.prototype.createEdge=function(e,t,r,n){var o=this.edgeJunkyard.pop();return o?(o.lSite=e,o.rSite=t,o.va=o.vb=null):o=new this.Edge(e,t),this.edges.push(o),r&&this.setEdgeStartpoint(o,e,t,r),n&&this.setEdgeEndpoint(o,e,t,n),this.cells[e.voronoiId].halfedges.push(this.createHalfedge(o,e,t)),this.cells[t.voronoiId].halfedges.push(this.createHalfedge(o,t,e)),o},n.prototype.createBorderEdge=function(e,t,r){var n=this.edgeJunkyard.pop();return n?(n.lSite=e,n.rSite=null):n=new this.Edge(e,null),n.va=t,n.vb=r,this.edges.push(n),n},n.prototype.setEdgeStartpoint=function(e,t,r,n){e.va||e.vb?e.lSite===r?e.vb=n:e.va=n:(e.va=n,e.lSite=t,e.rSite=r)},n.prototype.setEdgeEndpoint=function(e,t,r,n){this.setEdgeStartpoint(e,r,t,n)},n.prototype.Beachsection=function(){},n.prototype.createBeachsection=function(e){var t=this.beachsectionJunkyard.pop();return t||(t=new this.Beachsection),t.site=e,t},n.prototype.leftBreakPoint=function(e,t){var r=e.site,n=r.x,o=r.y,i=o-t;if(!i)return n;var u=e.rbPrevious;if(!u)return-1/0;var a=(r=u.site).x,s=r.y,c=s-t;if(!c)return a;var l=a-n,f=1/i-1/c,h=l/c;return f?(-h+this.sqrt(h*h-2*f*(l*l/(-2*c)-s+c/2+o-i/2)))/f+n:(n+a)/2},n.prototype.rightBreakPoint=function(e,t){var r=e.rbNext;if(r)return this.leftBreakPoint(r,t);var n=e.site;return n.y===t?n.x:1/0},n.prototype.detachBeachsection=function(e){this.detachCircleEvent(e),this.beachline.rbRemoveNode(e),this.beachsectionJunkyard.push(e)},n.prototype.removeBeachsection=function(e){var t=e.circleEvent,r=t.x,n=t.ycenter,o=this.createVertex(r,n),i=e.rbPrevious,u=e.rbNext,a=[e],s=Math.abs;this.detachBeachsection(e);for(var c=i;c.circleEvent&&s(r-c.circleEvent.x)<1e-9&&s(n-c.circleEvent.ycenter)<1e-9;)i=c.rbPrevious,a.unshift(c),this.detachBeachsection(c),c=i;a.unshift(c),this.detachCircleEvent(c);for(var l=u;l.circleEvent&&s(r-l.circleEvent.x)<1e-9&&s(n-l.circleEvent.ycenter)<1e-9;)u=l.rbNext,a.push(l),this.detachBeachsection(l),l=u;a.push(l),this.detachCircleEvent(l);var f,h=a.length;for(f=1;f<h;f++)l=a[f],c=a[f-1],this.setEdgeStartpoint(l.edge,c.site,l.site,o);c=a[0],(l=a[h-1]).edge=this.createEdge(c.site,l.site,void 0,o),this.attachCircleEvent(c),this.attachCircleEvent(l)},n.prototype.addBeachsection=function(e){for(var t,r,n,o,i=e.x,u=e.y,a=this.beachline.root;a;)if((n=this.leftBreakPoint(a,u)-i)>1e-9)a=a.rbLeft;else{if(!((o=i-this.rightBreakPoint(a,u))>1e-9)){n>-1e-9?(t=a.rbPrevious,r=a):o>-1e-9?(t=a,r=a.rbNext):t=r=a;break}if(!a.rbRight){t=a;break}a=a.rbRight}var s=this.createBeachsection(e);if(this.beachline.rbInsertSuccessor(t,s),t||r){if(t===r)return this.detachCircleEvent(t),r=this.createBeachsection(t.site),this.beachline.rbInsertSuccessor(s,r),s.edge=r.edge=this.createEdge(t.site,s.site),this.attachCircleEvent(t),void this.attachCircleEvent(r);if(!t||r){if(t!==r){this.detachCircleEvent(t),this.detachCircleEvent(r);var c=t.site,l=c.x,f=c.y,h=e.x-l,d=e.y-f,y=r.site,p=y.x-l,b=y.y-f,v=2*(h*b-d*p),g=h*h+d*d,x=p*p+b*b,w=this.createVertex((b*g-d*x)/v+l,(h*x-p*g)/v+f);return this.setEdgeStartpoint(r.edge,c,y,w),s.edge=this.createEdge(c,e,void 0,w),r.edge=this.createEdge(e,y,void 0,w),this.attachCircleEvent(t),void this.attachCircleEvent(r)}}else s.edge=this.createEdge(t.site,s.site)}},n.prototype.CircleEvent=function(){this.arc=null,this.rbLeft=null,this.rbNext=null,this.rbParent=null,this.rbPrevious=null,this.rbRed=!1,this.rbRight=null,this.site=null,this.x=this.y=this.ycenter=0},n.prototype.attachCircleEvent=function(e){var t=e.rbPrevious,r=e.rbNext;if(t&&r){var n=t.site,o=e.site,i=r.site;if(n!==i){var u=o.x,a=o.y,s=n.x-u,c=n.y-a,l=i.x-u,f=i.y-a,h=2*(s*f-c*l);if(!(h>=-2e-12)){var d=s*s+c*c,y=l*l+f*f,p=(f*d-c*y)/h,b=(s*y-l*d)/h,v=b+a,g=this.circleEventJunkyard.pop();g||(g=new this.CircleEvent),g.arc=e,g.site=o,g.x=p+u,g.y=v+this.sqrt(p*p+b*b),g.ycenter=v,e.circleEvent=g;for(var x=null,w=this.circleEvents.root;w;)if(g.y<w.y||g.y===w.y&&g.x<=w.x){if(!w.rbLeft){x=w.rbPrevious;break}w=w.rbLeft}else{if(!w.rbRight){x=w;break}w=w.rbRight}this.circleEvents.rbInsertSuccessor(x,g),x||(this.firstCircleEvent=g)}}}},n.prototype.detachCircleEvent=function(e){var t=e.circleEvent;t&&(t.rbPrevious||(this.firstCircleEvent=t.rbNext),this.circleEvents.rbRemoveNode(t),this.circleEventJunkyard.push(t),e.circleEvent=null)},n.prototype.connectEdge=function(e,t){var r=e.vb;if(r)return!0;var n,o,i=e.va,u=t.xl,a=t.xr,s=t.yt,c=t.yb,l=e.lSite,f=e.rSite,h=l.x,d=l.y,y=f.x,p=f.y,b=(h+y)/2,v=(d+p)/2;if(this.cells[l.voronoiId].closeMe=!0,this.cells[f.voronoiId].closeMe=!0,p!==d&&(o=v-(n=(h-y)/(p-d))*b),void 0===n){if(b<u||b>=a)return!1;if(h>y){if(!i||i.y<s)i=this.createVertex(b,s);else if(i.y>=c)return!1;r=this.createVertex(b,c)}else{if(!i||i.y>c)i=this.createVertex(b,c);else if(i.y<s)return!1;r=this.createVertex(b,s)}}else if(n<-1||n>1)if(h>y){if(!i||i.y<s)i=this.createVertex((s-o)/n,s);else if(i.y>=c)return!1;r=this.createVertex((c-o)/n,c)}else{if(!i||i.y>c)i=this.createVertex((c-o)/n,c);else if(i.y<s)return!1;r=this.createVertex((s-o)/n,s)}else if(d<p){if(!i||i.x<u)i=this.createVertex(u,n*u+o);else if(i.x>=a)return!1;r=this.createVertex(a,n*a+o)}else{if(!i||i.x>a)i=this.createVertex(a,n*a+o);else if(i.x<u)return!1;r=this.createVertex(u,n*u+o)}return e.va=i,e.vb=r,!0},n.prototype.clipEdge=function(e,t){var r=e.va.x,n=e.va.y,o=0,i=1,u=e.vb.x-r,a=e.vb.y-n,s=r-t.xl;if(0===u&&s<0)return!1;var c=-s/u;if(u<0){if(c<o)return!1;c<i&&(i=c)}else if(u>0){if(c>i)return!1;c>o&&(o=c)}if(s=t.xr-r,0===u&&s<0)return!1;if(c=s/u,u<0){if(c>i)return!1;c>o&&(o=c)}else if(u>0){if(c<o)return!1;c<i&&(i=c)}if(s=n-t.yt,0===a&&s<0)return!1;if(c=-s/a,a<0){if(c<o)return!1;c<i&&(i=c)}else if(a>0){if(c>i)return!1;c>o&&(o=c)}if(s=t.yb-n,0===a&&s<0)return!1;if(c=s/a,a<0){if(c>i)return!1;c>o&&(o=c)}else if(a>0){if(c<o)return!1;c<i&&(i=c)}return o>0&&(e.va=this.createVertex(r+o*u,n+o*a)),i<1&&(e.vb=this.createVertex(r+i*u,n+i*a)),(o>0||i<1)&&(this.cells[e.lSite.voronoiId].closeMe=!0,this.cells[e.rSite.voronoiId].closeMe=!0),!0},n.prototype.clipEdges=function(e){for(var t,r=this.edges,n=r.length,o=Math.abs;n--;)t=r[n],(!this.connectEdge(t,e)||!this.clipEdge(t,e)||o(t.va.x-t.vb.x)<1e-9&&o(t.va.y-t.vb.y)<1e-9)&&(t.va=t.vb=null,r.splice(n,1))},n.prototype.closeCells=function(e){for(var t,r,n,o,i,u,a,s,c,l=e.xl,f=e.xr,h=e.yt,d=e.yb,y=this.cells,p=y.length,b=Math.abs;p--;)if((t=y[p]).prepareHalfedges()&&t.closeMe){for(o=(n=t.halfedges).length,r=0;r<o;){if(u=n[r].getEndpoint(),s=n[(r+1)%o].getStartpoint(),b(u.x-s.x)>=1e-9||b(u.y-s.y)>=1e-9)switch(!0){case this.equalWithEpsilon(u.x,l)&&this.lessThanWithEpsilon(u.y,d):if(c=this.equalWithEpsilon(s.x,l),a=this.createVertex(l,c?s.y:d),i=this.createBorderEdge(t.site,u,a),r++,n.splice(r,0,this.createHalfedge(i,t.site,null)),o++,c)break;u=a;case this.equalWithEpsilon(u.y,d)&&this.lessThanWithEpsilon(u.x,f):if(c=this.equalWithEpsilon(s.y,d),a=this.createVertex(c?s.x:f,d),i=this.createBorderEdge(t.site,u,a),r++,n.splice(r,0,this.createHalfedge(i,t.site,null)),o++,c)break;u=a;case this.equalWithEpsilon(u.x,f)&&this.greaterThanWithEpsilon(u.y,h):if(c=this.equalWithEpsilon(s.x,f),a=this.createVertex(f,c?s.y:h),i=this.createBorderEdge(t.site,u,a),r++,n.splice(r,0,this.createHalfedge(i,t.site,null)),o++,c)break;u=a;case this.equalWithEpsilon(u.y,h)&&this.greaterThanWithEpsilon(u.x,l):if(c=this.equalWithEpsilon(s.y,h),a=this.createVertex(c?s.x:l,h),i=this.createBorderEdge(t.site,u,a),r++,n.splice(r,0,this.createHalfedge(i,t.site,null)),o++,c)break;if(u=a,c=this.equalWithEpsilon(s.x,l),a=this.createVertex(l,c?s.y:d),i=this.createBorderEdge(t.site,u,a),r++,n.splice(r,0,this.createHalfedge(i,t.site,null)),o++,c)break;if(u=a,c=this.equalWithEpsilon(s.y,d),a=this.createVertex(c?s.x:f,d),i=this.createBorderEdge(t.site,u,a),r++,n.splice(r,0,this.createHalfedge(i,t.site,null)),o++,c)break;if(u=a,c=this.equalWithEpsilon(s.x,f),a=this.createVertex(f,c?s.y:h),i=this.createBorderEdge(t.site,u,a),r++,n.splice(r,0,this.createHalfedge(i,t.site,null)),o++,c)break;default:throw"Voronoi.closeCells() > this makes no sense!"}r++}t.closeMe=!1}},n.prototype.quantizeSites=function(e){for(var t,r=this.ε,n=e.length;n--;)(t=e[n]).x=Math.floor(t.x/r)*r,t.y=Math.floor(t.y/r)*r},n.prototype.recycle=function(e){if(e){if(!(e instanceof this.Diagram))throw"Voronoi.recycleDiagram() > Need a Diagram object.";this.toRecycle=e}},n.prototype.compute=function(e,t){var r=new Date;this.reset(),this.toRecycle&&(this.vertexJunkyard=this.vertexJunkyard.concat(this.toRecycle.vertices),this.edgeJunkyard=this.edgeJunkyard.concat(this.toRecycle.edges),this.cellJunkyard=this.cellJunkyard.concat(this.toRecycle.cells),this.toRecycle=null);var n=e.slice(0);n.sort(function(e,t){var r=t.y-e.y;return r||t.x-e.x});for(var o,i,u,a=n.pop(),s=0,c=this.cells;;)if(u=this.firstCircleEvent,a&&(!u||a.y<u.y||a.y===u.y&&a.x<u.x))a.x===o&&a.y===i||(c[s]=this.createCell(a),a.voronoiId=s++,this.addBeachsection(a),i=a.y,o=a.x),a=n.pop();else{if(!u)break;this.removeBeachsection(u.arc)}this.clipEdges(t),this.closeCells(t);var l=new Date,f=new this.Diagram;return f.cells=this.cells,f.edges=this.edges,f.vertices=this.vertices,f.execTime=l.getTime()-r.getTime(),this.reset(),f},void 0!==t&&(t.exports=n)},{}],2:[function(e,t,r){},{}],3:[function(e,t,r){var n=e("./lib/alea"),o=e("./lib/xor128"),i=e("./lib/xorwow"),u=e("./lib/xorshift7"),a=e("./lib/xor4096"),s=e("./lib/tychei"),c=e("./seedrandom");c.alea=n,c.xor128=o,c.xorwow=i,c.xorshift7=u,c.xor4096=a,c.tychei=s,t.exports=c},{"./lib/alea":4,"./lib/tychei":5,"./lib/xor128":6,"./lib/xor4096":7,"./lib/xorshift7":8,"./lib/xorwow":9,"./seedrandom":10}],4:[function(e,t,r){!function(e,t,r){function n(e){var t=this,r=u();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=r(" "),t.s1=r(" "),t.s2=r(" "),t.s0-=r(e),t.s0<0&&(t.s0+=1),t.s1-=r(e),t.s1<0&&(t.s1+=1),t.s2-=r(e),t.s2<0&&(t.s2+=1),r=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var r=new n(e),i=t&&t.state,u=r.next;return u.int32=function(){return 4294967296*r.next()|0},u.double=function(){return u()+1.1102230246251565e-16*(2097152*u()|0)},u.quick=u,i&&("object"==typeof i&&o(i,r),u.state=function(){return o(r,{})}),u}function u(){var e=4022871197;return function(t){t=t.toString();for(var r=0;r<t.length;r++){var n=.02519603282416938*(e+=t.charCodeAt(r));n-=e=n>>>0,e=(n*=e)>>>0,e+=4294967296*(n-=e)}return 2.3283064365386963e-10*(e>>>0)}}t&&t.exports?t.exports=i:r&&r.amd?r(function(){return i}):this.alea=i}(0,"object"==typeof t&&t,!1)},{}],5:[function(e,t,r){!function(e,t,r){function n(e){var t=this,r="";t.next=function(){var e=t.b,r=t.c,n=t.d,o=t.a;return e=e<<25^e>>>7^r,r=r-n|0,n=n<<24^n>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^r,t.c=r=r-n|0,t.d=n<<16^r>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):r+=e;for(var n=0;n<r.length+20;n++)t.b^=0|r.charCodeAt(n),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var r=new n(e),i=t&&t.state,u=function(){return(r.next()>>>0)/4294967296};return u.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},u.int32=r.next,u.quick=u,i&&("object"==typeof i&&o(i,r),u.state=function(){return o(r,{})}),u}t&&t.exports?t.exports=i:r&&r.amd?r(function(){return i}):this.tychei=i}(0,"object"==typeof t&&t,!1)},{}],6:[function(e,t,r){!function(e,t,r){function n(e){var t=this,r="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var r=new n(e),i=t&&t.state,u=function(){return(r.next()>>>0)/4294967296};return u.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},u.int32=r.next,u.quick=u,i&&("object"==typeof i&&o(i,r),u.state=function(){return o(r,{})}),u}t&&t.exports?t.exports=i:r&&r.amd?r(function(){return i}):this.xor128=i}(0,"object"==typeof t&&t,!1)},{}],7:[function(e,t,r){!function(e,t,r){function n(e){var t=this;t.next=function(){var e,r,n=t.w,o=t.X,i=t.i;return t.w=n=n+1640531527|0,r=o[i+34&127],e=o[i=i+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,r=o[i]=r^e,t.i=i,r+(n^n>>>16)|0},function(e,t){var r,n,o,i,u,a=[],s=128;for(t===(0|t)?(n=t,t=null):(t+="\0",n=0,s=Math.max(s,t.length)),o=0,i=-32;i<s;++i)t&&(n^=t.charCodeAt((i+32)%t.length)),0===i&&(u=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,i>=0&&(u=u+1640531527|0,o=0==(r=a[127&i]^=n+u)?o+1:0);for(o>=128&&(a[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)n=a[o+34&127],r=a[o=o+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,a[o]=n^r;e.w=u,e.X=a,e.i=o}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var r=new n(e),i=t&&t.state,u=function(){return(r.next()>>>0)/4294967296};return u.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},u.int32=r.next,u.quick=u,i&&(i.X&&o(i,r),u.state=function(){return o(r,{})}),u}t&&t.exports?t.exports=i:r&&r.amd?r(function(){return i}):this.xor4096=i}(0,"object"==typeof t&&t,!1)},{}],8:[function(e,t,r){!function(e,t,r){function n(e){var t=this;t.next=function(){var e,r,n=t.x,o=t.i;return e=n[o],e^=e>>>7,r=e^e<<24,e=n[o+1&7],r^=e^e>>>10,e=n[o+3&7],r^=e^e>>>3,e=n[o+4&7],r^=e^e<<7,e=n[o+7&7],e^=e<<13,r^=e^e<<9,n[o]=r,t.i=o+1&7,r},function(e,t){var r,n=[];if(t===(0|t))n[0]=t;else for(t=""+t,r=0;r<t.length;++r)n[7&r]=n[7&r]<<15^t.charCodeAt(r)+n[r+1&7]<<13;for(;n.length<8;)n.push(0);for(r=0;r<8&&0===n[r];++r);for(8==r?n[7]=-1:n[r],e.x=n,e.i=0,r=256;r>0;--r)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var r=new n(e),i=t&&t.state,u=function(){return(r.next()>>>0)/4294967296};return u.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},u.int32=r.next,u.quick=u,i&&(i.x&&o(i,r),u.state=function(){return o(r,{})}),u}t&&t.exports?t.exports=i:r&&r.amd?r(function(){return i}):this.xorshift7=i}(0,"object"==typeof t&&t,!1)},{}],9:[function(e,t,r){!function(e,t,r){function n(e){var t=this,r="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),n==r.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var r=new n(e),i=t&&t.state,u=function(){return(r.next()>>>0)/4294967296};return u.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},u.int32=r.next,u.quick=u,i&&("object"==typeof i&&o(i,r),u.state=function(){return o(r,{})}),u}t&&t.exports?t.exports=i:r&&r.amd?r(function(){return i}):this.xorwow=i}(0,"object"==typeof t&&t,!1)},{}],10:[function(e,t,r){!function(r,n){function o(e,t,o){var f=[],h=s(a((t=1==t?{entropy:!0}:t||{}).entropy?[e,l(r)]:null==e?c():e,3),f),x=new i(f),w=function(){for(var e=x.g(y),t=b,r=0;e<v;)e=(e+r)*d,t*=d,r=x.g(1);for(;e>=g;)e/=2,t/=2,r>>>=1;return(e+r)/t};return w.int32=function(){return 0|x.g(4)},w.quick=function(){return x.g(4)/4294967296},w.double=w,s(l(x.S),r),(t.pass||o||function(e,t,r,o){return o&&(o.S&&u(o,x),e.state=function(){return u(x,{})}),r?(n[p]=e,t):e})(w,h,"global"in t?t.global:this==n,t.state)}function i(e){var t,r=e.length,n=this,o=0,i=n.i=n.j=0,u=n.S=[];for(r||(e=[r++]);o<d;)u[o]=o++;for(o=0;o<d;o++)u[o]=u[i=x&i+e[o%r]+(t=u[o])],u[i]=t;(n.g=function(e){for(var t,r=0,o=n.i,i=n.j,u=n.S;e--;)t=u[o=x&o+1],r=r*d+u[x&(u[o]=u[i=x&i+t])+(u[i]=t)];return n.i=o,n.j=i,r})(d)}function u(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function a(e,t){var r,n=[],o=typeof e;if(t&&"object"==o)for(r in e)try{n.push(a(e[r],t-1))}catch(e){}return n.length?n:"string"==o?e:e+"\0"}function s(e,t){for(var r,n=e+"",o=0;o<n.length;)t[x&o]=x&(r^=19*t[x&o])+n.charCodeAt(o++);return l(t)}function c(){try{var e;return f&&(e=f.randomBytes)?e=e(d):(e=new Uint8Array(d),(h.crypto||h.msCrypto).getRandomValues(e)),l(e)}catch(e){var t=h.navigator,n=t&&t.plugins;return[+new Date,h,n,h.screen,l(r)]}}function l(e){return String.fromCharCode.apply(0,e)}var f,h=this,d=256,y=6,p="random",b=n.pow(d,y),v=n.pow(2,52),g=2*v,x=d-1;if(n["seed"+p]=o,s(n.random(),r),"object"==typeof t&&t.exports){t.exports=o;try{f=e("crypto")}catch(e){}}}([],Math)},{crypto:2}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.random=function(e,t){for(var r=[],n=e.area/(t*t),o=0;o<n;o++)r.push(i.default.vector(e));return r},r.blueNoise=function(e,t){throw"Error: Not Implemented"},r.poisson=function(e,t){throw"Error: Not Implemented"},r.recursiveWang=function(e,t){throw"Error: Not Implemented"},r.square=function(e,t){for(var r=t/2,n=r,i=[],u=0;u<e.height;u+=t)for(var a=0;a<e.width;a+=t)i.push(new o.default(r+a,n+u));return i},r.hexagon=function(e,t){!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments[3],arguments[4];for(var r=[],n=(Math.sqrt(3),Math.sqrt(e.area/(t*t))),i=0;i<n;i++)for(var u=0;u<n;u++)r.push(new o.default((.5+u)/n*e.width,(.25+.5*u%2+i)/n*e.height));return r},r.circular=function(e,t){throw"Error: Not Implemented"};var o=n(e("../geometry/Vector")),i=(n(e("../geometry/Rectangle")),n(e("./Rand")))},{"../geometry/Rectangle":15,"../geometry/Vector":18,"./Rand":12}],12:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=n(e("seedRandom")),a=n(e("../geometry/Vector")),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;o(this,e),this.rng=(0,u.default)(t)}return i(e,[{key:"setSeed",value:function(e){var t={entropy:void 0===e};this.rng=(0,u.default)(e,t)}},{key:"rand",value:function(){return this.rng()}},{key:"randRange",value:function(t,r){return e._randRange(this,t,r)}},{key:"randInt",value:function(t,r){return e._randInt(this,t,r)}},{key:"randHex",value:function(){return e._randHex(this)}},{key:"randHexColor",value:function(){return e._randHexColor(this)}},{key:"vector",value:function(t){return e._vector(this,t)}}],[{key:"setSeed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t={global:!0,entropy:void 0===e};(0,u.default)(e,t)}},{key:"rand",value:function(){return Math.random()}},{key:"_randRange",value:function(e,t,r){return e.rand()*(r-t)+t}},{key:"randRange",value:function(t,r){return e._randRange(e,t,r)}},{key:"_randInt",value:function(e,t,r){return Math.floor(e.rand()*(r-t+1))+t}},{key:"randInt",value:function(t,r){return e._randInt(e,t,r)}},{key:"_randHex",value:function(e){return e.randInt(0,16777215)}},{key:"randHex",value:function(){return e._randHex(e)}},{key:"_randHexColor",value:function(e){return"#"+e.randHex().toString(16)}},{key:"randHexColor",value:function(){return e._randHexColor(e)}},{key:"_vector",value:function(t,r){return new a.default(e.randRange(r.x,r.x+r.width),e.randRange(r.y,r.y+r.height))}},{key:"vector",value:function(t){return e._vector(e,t)}}]),e}();r.default=s,t.exports=r.default},{"../geometry/Vector":18,seedRandom:3}],13:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(e){return e&&e.__esModule?e:{default:e}}(e("./Shape")),a=function(e){function t(e,r){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,[e,r]))}return i(t,u.default),t}();r.default=a,t.exports=r.default},{"./Shape":16}],14:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=n(e("./Vector")),c=n(e("./Shape")),l=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.center=r||n.centroid(),n}return u(t,c.default),a(t,[{key:"centroid",value:function(){return s.default.avg(this)}},{key:"inset",value:function(e){return e}},{key:"isConvex",value:function(){}},{key:"rotate",value:function(){}}]),t}();r.default=l,t.exports=r.default},{"./Shape":16,"./Vector":18}],15:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=n(e("./Vector")),c=n(e("./Polygon")),l=function(e){function t(e,r,n){o(this,t);var u=[e,s.default.add(e,new s.default(r,0)),s.default.add(e,new s.default(r,n)),s.default.add(e,new s.default(0,n))],a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u));return a.position=e,a.x=e.x,a.y=e.y,a.width=r,a.height=n,a.area=r*n,a}return u(t,c.default),a(t,[{key:"contains",value:function(e){return e.x>this.position.x&&e.x<this.position.x+this.width&&e.y>this.position.y&&e.y<this.positoin.y+this.height}}]),t}();r.default=l,t.exports=r.default},{"./Polygon":14,"./Vector":18}],16:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}Object.defineProperty(r,"__esModule",{value:!0});!function(e){e&&e.__esModule}(e("./Vector"));var s=function(e){function t(e){if(o(this,t),e)var r,u=i(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(n(e))));else u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i(u)}return u(t,a(Array)),t}();r.default=s,t.exports=r.default},{"./Vector":18}],17:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});n(e("./Vector"));var a=n(e("./Polygon")),s=function(e){function t(e,r,n){o(this,t);var u=[e,r,n],a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u));return a.v1=e,a.v2=r,a.v3=n,a}return u(t,a.default),t}();r.default=s,t.exports=r.default},{"./Polygon":14,"./Vector":18}],18:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t,r){n(this,e),t instanceof e&&!r?this._set(t.x,t.y):this._set(t,r)}return o(e,[{key:"_set",value:function(e,t){this.__proto__[0]=e,this.__proto__[1]=t,this.x=e,this.y=t}},{key:"key",value:function(){return this.list()}},{key:"list",value:function(){return[this.x,this.y]}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"add",value:function(t){return e.add(this,t)}},{key:"subtract",value:function(t){return e.subtract(this,t)}},{key:"multiply",value:function(t){return new e(this.x*t,this.y*t)}},{key:"divide",value:function(t){return new e(this.x/t,this.y/t)}},{key:"magnitude",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"normalize",value:function(){return e.divide(this.magnitude())}},{key:"rotate",value:function(t){var r=Math.cos(t),n=Math.sin(t);return new e(r*this.x-n*this.y,n*this.x+r*this.y)}},{key:"dot",value:function(t){return e.dot(this,t)}},{key:"cross",value:function(t){return e.cross(this,t)}},{key:"perpendiculars",value:function(){return[new e(-this.y,this.x).normalize(),new e(this.y,-this.x).normalize()]}}],[{key:"copy",value:function(t){return new e(t.x,t.y)}},{key:"add",value:function(t,r){return new e(t.x+r.x,t.y+r.y)}},{key:"subtract",value:function(t,r){return new e(t.x-r.x,t.y-r.y)}},{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y}},{key:"avg",value:function(t){var r=e.zero(),n=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var s=u.value;r=e.add(r,s)}}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r.divide(t.length)}},{key:"cross",value:function(e,t){return e.x*t.y-e.y*t.x}},{key:"midpoint",value:function(t,r){return new e((t.x+r.x)/2,(t.y+r.y)/2)}},{key:"proj",value:function(t,r){return r.multiply(e.dot(t,r)/Math.pow(r.magnitude(),2))}},{key:"angle",value:function(t,r){return Math.acos(e.dot(t,r)/(t.magnitude()*r.magnitude()))}},{key:"distance",value:function(t,r){return Math.sqrt(e.dist2(t,r))}},{key:"dist2",value:function(e,t){var r=e.x-t.x,n=e.y-t.y;return r*r+n*n}},{key:"distToSeg",value:function(t,r,n){return Math.sqrt(e.distToSeg2(t,r,n))}},{key:"distToSegSquared",value:function(t,r,n){var o=e.dist2(r,n);if(0===o)return e.dist2(t,r);var i=((t.x-r.x)*(n.x-r.x)+(t.y-r.y)*(n.y-r.y))/o;return i=Math.max(0,Math.min(1,i)),e.dist2(t,new e(r.x+i*(n.x-r.x),r.y+i*(n.y-r.y)))}},{key:"zero",value:function(){return new e(0,0)}},{key:"up",value:function(){return new e(0,1)}},{key:"down",value:function(){return new e(0,-1)}},{key:"left",value:function(){return new e(-1,0)}},{key:"right",value:function(){return new e(1,0)}}]),e}();r.default=i,t.exports=r.default},{}],19:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=n(e("../geometry/Vector")),s=n(e("../geometry/Polygon")),c=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.id=-1,r.neighbors=new s.default,r.borders=[],r.corners=new s.default,r.border=!1,r}return u(t,a.default),t}();r.default=c,t.exports=r.default},{"../geometry/Polygon":14,"../geometry/Vector":18}],20:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=n(e("../geometry/Vector")),s=n(e("../geometry/Polygon")),c=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.id=-1,r.touches=new s.default,r.protrudes=[],r.adjacent=new s.default,r}return u(t,a.default),t}();r.default=c,t.exports=r.default},{"../geometry/Polygon":14,"../geometry/Vector":18}],21:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=n(e("../geometry/Vector")),a=n(e("./Center")),s=n(e("./Corner")),c=n(e("./Edge")),l=e("../utilities/Util"),f=n(e("Voronoi")),h=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];o(this,e),this.bbox=r,this._rhillbbox={xl:this.bbox.x,xr:this.bbox.x+this.bbox.width,yt:this.bbox.y,yb:this.bbox.y+this.bbox.height};var u=new f.default;for(this._voronoi=u.compute(t,this._rhillbbox);n--;){var a=this.relaxSites(this._voronoi);u.recycle(this._voronoi),this._voronoi=u.compute(a,this._rhillbbox)}this.convertDiagram(this._voronoi),i&&this.improveCorners(),this.sortCorners()}return i(e,[{key:"relaxSites",value:function(e){for(var t=e.cells,r=t.length,n=void 0,o=void 0,i=[];r--;)n=t[r],o=this.cellCentroid(n),i.push(new u.default(o.x,o.y));return i}},{key:"cellArea",value:function(e){for(var t=0,r=e.halfedges,n=r.length,o=void 0,i=void 0,u=void 0;n--;)i=(o=r[n]).getStartpoint(),u=o.getEndpoint(),t+=i.x*u.y,t-=i.y*u.x;return t/=2}},{key:"cellCentroid",value:function(e){for(var t=0,r=0,n=e.halfedges,o=n.length,i=void 0,u=void 0,a=void 0,s=void 0;o--;)a=(i=n[o]).getStartpoint(),s=i.getEndpoint(),u=a.x*s.y-s.x*a.y,t+=(a.x+s.x)*u,r+=(a.y+s.y)*u;return u=6*this.cellArea(e),{x:t/u,y:r/u}}},{key:"convertDiagram",value:function(e){var t={},r={};this.centers=[],this.corners=[],this.edges=[];var n=0,o=0,i=!0,f=!1,h=void 0;try{for(var d,y=e.cells[Symbol.iterator]();!(i=(d=y.next()).done);i=!0){var p=d.value.site,b=new u.default(p.x,p.y),v=new a.default(b);v.id=p.voronoiId,t[b.key()]=v,this.centers.push(v)}}catch(e){f=!0,h=e}finally{try{!i&&y.return&&y.return()}finally{if(f)throw h}}var g=!0,x=!1,w=void 0;try{for(var _,R=e.edges[Symbol.iterator]();!(g=(_=R.next()).done);g=!0){var m=_.value,E=new u.default(Math.round(m.va.x),Math.round(m.va.y)),k=new u.default(Math.round(m.vb.x),Math.round(m.vb.y)),P=new u.default(m.lSite.x,m.lSite.y),O=m.rSite?new u.default(m.rSite.x,m.rSite.y):null,j=t[P.key()],S=O?t[O.key()]:null,C=void 0,M=void 0,V=function(e,t){return e.x<=t.xl||e.x>=t.xr||e.y<=t.yt||e.y>=t.yb};(0,l.has)(r,E.key())?C=r[E.key()]:((C=new s.default(E)).id=n++,C.border=V(E,this.bbox),r[E.key()]=C,this.corners.push(C)),(0,l.has)(r,k.key())?M=r[k.key()]:((M=new s.default(k)).id=n++,M.border=V(k,this.bbox),r[k.key()]=M,this.corners.push(M));var L=new c.default;L.id=o++,L.d0=j,L.d1=S,L.v0=C,L.v1=M,L.midpoint=u.default.midpoint(C,M),C.protrudes.push(L),M.protrudes.push(L),C.touches.includes(j)||C.touches.push(j),S&&!C.touches.includes(S)&&C.touches.push(S),M.touches.includes(j)||M.touches.push(j),S&&!M.touches.includes(S)&&M.touches.push(S),C.adjacent.push(M),M.adjacent.push(C),j.borders.push(L),S&&S.borders.push(L),j.corners.includes(C)||j.corners.push(C),j.corners.includes(M)||j.corners.push(M),S&&!S.corners.includes(C)&&S.corners.push(C),S&&!S.corners.includes(M)&&S.corners.push(M),S&&(j.neighbors.push(S),S.neighbors.push(j)),j.border=j.border||C.border||M.border,S&&(S.border=S.border||C.border||M.border),this.edges.push(L)}}catch(e){x=!0,w=e}finally{try{!g&&R.return&&R.return()}finally{if(x)throw w}}}},{key:"improveCorners",value:function(){for(var e=[],t=0;t<this.corners.length;t++){var r=this.corners[t];if(r.border)e[t]=r;else{var n=u.default.zero(),o=!0,i=!1,a=void 0;try{for(var s,c=r.touches[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value;n=u.default.add(n,l)}}catch(e){i=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}n=n.divide(r.touches.length),e[t]=n}}for(var f=0;f<this.corners.length;f++){this.corners[f];e[f]}var h=!0,d=!1,y=void 0;try{for(var p,b=this.edges[Symbol.iterator]();!(h=(p=b.next()).done);h=!0){var v=p.value;v.v0&&v.v1&&(v.midpoint=u.default.midpoint(v.v0,v.v1))}}catch(e){d=!0,y=e}finally{try{!h&&b.return&&b.return()}finally{if(d)throw y}}}},{key:"sortCorners",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.centers[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value,u=this.comparePolyPoints(i);i.corners.sort(u)}}catch(e){t=!0,r=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw r}}}},{key:"comparePolyPoints",value:function(e){var t=e;return function(e,r){var n=e,o=r;if(n.x-t.x>=0&&o.x-t.x<0)return-1;if(n.x-t.x<0&&o.x-t.x>=0)return 1;if(n.x-t.x==0&&o.x-t.x==0)return n.y-t.y>=0||o.y-t.y>=0?n.y>o.y?-1:1:o.y>n.y?-1:1;var i=(n.x-t.x)*(o.y-t.y)-(o.x-t.x)*(n.y-t.y);return i<0?-1:i>0?1:(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y)>(o.x-t.x)*(o.x-t.x)+(o.y-t.y)*(o.y-t.y)?-1:1}}}]),e}();r.default=h,t.exports=r.default},{"../geometry/Vector":18,"../utilities/Util":26,"./Center":19,"./Corner":20,"./Edge":22,Voronoi:1}],22:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});n(e("../geometry/Vector"));var a=n(e("../geometry/Line")),s=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.id=-1,n.d0=null,n.d1=null,n.v0=null,n.v1=null,n.midpoint=null,n.border=!1,n}return u(t,a.default),t}();r.default=s,t.exports=r.default},{"../geometry/Line":13,"../geometry/Vector":18}],23:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=o(e("./geometry/Vector")),u=o(e("./geometry/Shape")),a=o(e("./geometry/Line")),s=o(e("./geometry/Polygon")),c=o(e("./geometry/Rectangle")),l=o(e("./geometry/Triangle")),f=o(e("./graph/Center")),h=o(e("./graph/Corner")),d=o(e("./graph/Edge")),y=o(e("./graph/Diagram")),p=n(e("./Utilities/PointDistribution")),b=n(e("./utilities/Redist")),v=o(e("./utilities/Rand")),g={Geometry:{Vector:i.default,Shape:u.default,Line:a.default,Polygon:s.default,Rectangle:c.default,Triangle:l.default},Graph:{Center:f.default,Corner:h.default,Edge:d.default,Diagram:y.default},Utility:{PointDistribution:p,Redist:b,Rand:v.default}};r.default=g,t.exports=r.default},{"./Utilities/PointDistribution":11,"./geometry/Line":13,"./geometry/Polygon":14,"./geometry/Rectangle":15,"./geometry/Shape":16,"./geometry/Triangle":17,"./geometry/Vector":18,"./graph/Center":19,"./graph/Corner":20,"./graph/Diagram":21,"./graph/Edge":22,"./utilities/Rand":24,"./utilities/Redist":25}],24:[function(e,t,r){arguments[4][12][0].apply(r,arguments)},{"../geometry/Vector":18,dup:12,seedRandom:3}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.identity=function(e){return e},r.inverse=function(e){return 1-e},r.exp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=void 0,n=void 0;return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?(r=Math.exp(t*e)-1,n=Math.exp(t)-1):(r=1-Math.exp(-t*e),n=1-Math.exp(-t)),r/n},r.pow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return r?n?Math.pow(e,1/t):1-Math.pow(1-e,t):n?Math.pow(e,t):1-Math.pow(1-e,1/t)},r.step=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Math.floor(t*e)/t}},{}],26:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},{}]},{},[23])(23)});